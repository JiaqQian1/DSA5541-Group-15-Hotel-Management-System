/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template
 */
package com.mycompany.lab8;

/**
 *
//Tan Jia Qian 1221201239
//D21A
//Lab8 /Q1
 */
import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.text.DecimalFormat;

public class Lab8Q1 extends JFrame implements ActionListener {
    // Declaring GUI objects
    JLabel lb1, lb2, lb3, lb4, lb5, lb6, jLCar;
    JTextField tf1, tf2, tf3, tf4;
    JRadioButton rb1, rb2;

    public static void main(String[] args) {
        // Setting the frame
        Q1 frame = new Q1();
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setTitle("My TeksiSapu");
        frame.setSize(600, 400); 
        frame.setVisible(true);
    }

    public Lab8Q1() {
        Font f1 = new Font("Arial", Font.BOLD, 15);
        Font f2 = new Font("Dialog", Font.BOLD | Font.ITALIC, 30);

        // Load the image
        ImageIcon car = new ImageIcon(getClass().getResource("taxicar.jpg"));
        jLCar = new JLabel(car);

        lb1 = new JLabel("Welcome to MyTeksiSapu", JLabel.CENTER);
        lb1.setFont(f2);
        lb1.setOpaque(true); // Allows background color to be set
        lb1.setBackground(Color.green);
        lb1.setForeground(Color.white); // Set text color to white
        lb1.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10)); // Add padding

        lb2 = new JLabel("Calculate fee by:");
        lb2.setFont(new Font("Arial", Font.BOLD, 20));
        lb2.setOpaque(true); // Allows background color to be set
        lb2.setBackground(Color.lightGray);

        rb1 = new JRadioButton("Kilometer (RM0.95 per/km)");
        rb2 = new JRadioButton("Time (RM0.35 per/min)");

        ButtonGroup bg = new ButtonGroup();
        bg.add(rb1);
        bg.add(rb2);

        lb3 = new JLabel("Distance to destination (km): ");
        tf1 = new JTextField(5);

        lb4 = new JLabel("Duration to destination (mins): ");
        tf2 = new JTextField(5);

        lb5 = new JLabel("Calculated by: ");
        tf3 = new JTextField(10);
        tf3.setFont(f1);
        tf3.setForeground(Color.red);
        tf3.setEditable(false);

        lb6 = new JLabel("Total: RM");
        tf4 = new JTextField(10);
        tf4.setFont(f1);
        tf4.setForeground(Color.red);
        tf4.setEditable(false);

        // Panel 1
        JPanel p1 = new JPanel();
        p1.setBackground(Color.green);
        p1.add(lb1);

        // Panel 2
        JPanel p2b = new JPanel();
        p2b.setLayout(new GridLayout(2, 3));
        p2b.add(rb1);
        p2b.add(lb3);
        p2b.add(tf1);
        p2b.add(rb2);
        p2b.add(lb4);
        p2b.add(tf2);

        JPanel p2 = new JPanel();
        p2.setLayout(new BorderLayout());
        p2.setBackground(Color.lightGray);
        p2.add(lb2, BorderLayout.NORTH);
        p2.add(p2b, BorderLayout.CENTER);

        // Panel 3
        JPanel p3 = new JPanel();
        p3.setLayout(new BorderLayout());
        p3.setBackground(Color.white);
        p3.add(jLCar, BorderLayout.CENTER);

        JPanel p3Details = new JPanel();
        p3Details.setLayout(new GridLayout(2, 2));
        p3Details.add(lb5);
        p3Details.add(tf3);
        p3Details.add(lb6);
        p3Details.add(tf4);
        p3.add(p3Details, BorderLayout.SOUTH);

        // Frame layout
        setLayout(new GridBagLayout());
        GridBagConstraints gbc = new GridBagConstraints();

        gbc.gridx = 0;
        gbc.gridy = 0;
        gbc.gridwidth = 2;
        gbc.fill = GridBagConstraints.HORIZONTAL;
        add(p1, gbc);

        gbc.gridx = 0;
        gbc.gridy = 1;
        gbc.gridwidth = 1;
        gbc.weightx = 1;
        gbc.fill = GridBagConstraints.BOTH;
        add(p2, gbc);

        gbc.gridx = 1;
        gbc.gridy = 1;
        gbc.gridwidth = 1;
        gbc.weightx = 1;
        gbc.fill = GridBagConstraints.BOTH;
        add(p3, gbc);

        // Action listeners
        tf1.addActionListener(this);
        tf2.addActionListener(this);
        rb1.addActionListener(this);
        rb2.addActionListener(this);
    }

    @Override
    public void actionPerformed(ActionEvent e) {
        DecimalFormat df = new DecimalFormat("0.00");
        double price = 0;
        String text = "";

        if (rb1.isSelected()) {
            double num1 = tf1.getText().isEmpty() ? 0 : Double.parseDouble(tf1.getText());
            price = num1 * 0.95;
            text = "Meter";
        }

        if (rb2.isSelected()) {
            double num1 = tf2.getText().isEmpty() ? 0 : Double.parseDouble(tf2.getText());
            price = num1 * 0.35;
            text = "Time";
        }

        tf3.setText(text);
        tf4.setText(String.valueOf(df.format(price)));
    }
}
